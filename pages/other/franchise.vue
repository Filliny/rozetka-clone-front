<template>
  <div class="wrapper">
    <div class="topchart full-width">
      <div class="intro">
        <div class="intro-text">
          <h3>Франшиза - те що тобі треба</h3>
          <p class="hint">Відкрийте точку видачі Ладної Хати та заробляйте <br>від 35 000 ₴ чистого прибутку на місяць*</p>
          <p class="remark">* Вказаний фінансовий результат залежить від багатьох <br>факторів та є орієнтовним</p>
        </div>
      </div>
      <div class="img">
        <img src="~assets/images/Other/Franchise/intro.png" alt="">
      </div>

    </div>
    <div class="text-wrapper-59">Як працює франшиза?</div>
    <div class="overlap">
      <div class="overlap-2">
        <img
          class="vector"
          alt="Vector"
          src="~assets/images/Other/Franchise/vector-32.svg"
        />
        <img
          class="vector-2"
          alt="Vector"
          src="~assets/images/Other/Franchise/vector-31.svg"
        />
        <img
          class="vector-3"
          alt="Vector"
          src="~assets/images/Other/Franchise/vector-30.svg"
        />
        <img
          class="vector-4"
          alt="Vector"
          src="~assets/images/Other/Franchise/vector-29.svg"
        />
        <img
          class="element-3"
          alt="Element"
          src="~assets/images/Other/Franchise/5.png"
        />
        <img
          class="element-4"
          alt="Element"
          src="~assets/images/Other/Franchise/4.png"
        />
        <img
          class="element-5"
          alt="Element"
          src="~assets/images/Other/Franchise/3.png"
        />
        <img
          class="element-6"
          alt="Element"
          src="~assets/images/Other/Franchise/2.png"
        />
        <img
          class="element-7"
          alt="Element"
          src="~assets/images/Other/Franchise/1.png"
        />
        <div class="overlap-wrapper">
          <div class="overlap-3">
            <div class="text-wrapper-2">1</div>
          </div>
        </div>
        <div class="element-8">
          <div class="overlap-3">
            <div class="text-wrapper-3">2</div>
          </div>
        </div>
        <div class="element-9">
          <div class="overlap-3">
            <div class="text-wrapper-4">3</div>
          </div>
        </div>
        <div class="element-10">
          <div class="overlap-3">
            <div class="text-wrapper-5">4</div>
          </div>
        </div>
        <div class="element-11">
          <div class="overlap-3">
            <div class="text-wrapper-4">5</div>
          </div>
        </div>
      </div>
      <p class="p">Ви видаєте замовлення клієнту та отримуєте винагороду від Ладної Хати</p>
      <p class="text-wrapper-6">Ви приймаєте замовлення та переміщуєте його на склад</p>
      <p class="text-wrapper-7">На складі Ладної Хати формують замовлення та відправляють на вашу точку</p>
      <p class="text-wrapper-8">Ладна Хата опрацьовує замовлення та підтверджує його</p>
      <p class="text-wrapper-9">Клієнт оформлює своє замовлення на Ладній Хаті</p>
    </div>

    <div class="overlap-9 full-width">

      <h1 class="h-1">Робіть що треба, решта - за нами</h1>
      <p class="text-wages">Що ви отримуєте як партнер Ладної Хати:</p>

      <div class="vages-cards">
        <app-grid-card>
          <template #image>
            <img
              class="mask-group"
              style="width: 93px; height: 35px; margin-top: -5px"
              alt="Mask group" src="~assets/images/Other/Franchise/3-1-1.png" />
          </template>
          <template #head>Бренд</template>
          <template #content>Ладна Хата — один із маркетплейсів що швидко розвивається та становиться відомим і улюбленим брендом серед українців</template>
        </app-grid-card>

        <app-grid-card>
          <template #image>
            <div class="element-wrapper"  style="width: 66px; height: 44px; display: flex" :style='{ backgroundImage: `url(${require("@/assets/images/Other/Franchise/vector-6.svg")})` }'>
              <img style="align-self: center; margin: -7px 0 0 6px; " class="element-15" alt="Element" src="~assets/images/Other/Franchise/3-1.png" />
            </div>
          </template>
          <template #head >Логістика</template>
          <template #content>Ми доставляємо товари до вашої точки — вам не потрібно витрачати на це час та гроші</template>
        </app-grid-card>

        <app-grid-card>
          <template #image>
            <div class="img-wrapper"  >
              <img class="group-9" alt="Group" src="~assets/images/Other/Franchise/group-215.png" style="width: 70px; height: 50px"/>
            </div>
          </template>
          <template #head>Софт</template>
          <template #content>Наш програмний комплекс Octopus зробить вашу щоденну роботу зручною та приємною</template>
        </app-grid-card>

        <app-grid-card>
          <template #image>
            <div class="img-wrapper"  >
              <img class="group-9" alt="Group" src="~assets/images/Other/Franchise/group-239.png" style="width: 55px; height: 50px"/>
            </div>
          </template>
          <template #head>Клієнти</template>
          <template #content>Ладна Хата піклується про те, щоб  у вас було багато замовлень,
            а ваша задача — якісно їх обробити</template>
        </app-grid-card>

        <app-grid-card>
          <template #image>
            <div class="img-wrapper"  >
              <img class="group-9" alt="Group" src="~assets/images/Other/Franchise/group.png" style="width: 55px; height: 50px"/>
            </div>
          </template>
          <template #head>Навчання</template>
          <template #content>Ми забезпечуємо постійне навчання вашої команди, а також пакет стандартів бізнесу</template>
        </app-grid-card>

        <app-grid-card>
          <template #image>
            <div class="img-wrapper"  >
              <img class="group-9" alt="Group" src="~assets/images/Other/Franchise/Group 216.svg" style="width: 55px; height: 60px"/>
            </div>
          </template>
          <template #head>Підтримка</template>
          <template #content>Ми зробимо все, щоб ваш бізнес постійно розвивався та зростав</template>
        </app-grid-card>
      </div>
    </div>

    <div class="terms">
      <div class="h-2">Умови франшизи</div>
      <div class="term-cards">
        <app-card :width="'468'">
          <green-card :head-align="'left'" :content-align="'left'" :head-color="'#F45D48'">
            <template #head>
              Фінанси*
            </template>
            <template #content>
              <ul style="padding-inline-start: 20px;">
                <li>Вкладення — від 635 000 грн.</li>
                <li>Прибуток — від 35 000 грн. на місяць</li>
                <li>Термін окупності — до 24 місяців</li>
              </ul>
            </template>
          </green-card>
        </app-card>

        <app-card :width="'468'">
          <green-card :head-align="'left'" :content-align="'left'" :head-color="'#F45D48'">
            <template #head>
              Партнери
            </template>
            <template #content>
              <br>Ми шукаємо партнерів, які вже мають управлінський досвід та будуть вести цей бізнес як основний та мають приміщення у власності або в оренді
            </template>
          </green-card>
        </app-card>

        <app-card :width="'468'">
          <green-card :head-align="'left'" :content-align="'left'" :head-color="'#F45D48'">
            <template #head>
              Міста
            </template>
            <template #content>
              <br>Наразі ми шукаємо партнерів у наступних містах: Житомир, Кременчук, Кривий Ріг, Луцьк, Одеса, Тернопіль, Ужгород, Черкаси, Чернівці
            </template>
          </green-card>
        </app-card>

      </div>
      <p>* Вказаний фінансовий результат залежить від багатьох факторів та є орієнтовним</p>
    </div>
    <div class="franchise-form">
      <div class="h-2">Працюймо разом!</div>
      <p>Якщо ви готові рухатись далі, будь ласка, заповніть анкету партнера Ладної Хати</p>
      <app-card width="'auto'">
        <div class="form">
          <div class="form-column">

            <label for="person">Прізвище, ім’я та по батькові *</label>
            <input class="input" type="text" name="person" placeholder="Введіть відповідь" @input='e => formData.person_name = e.target.value'/>

            <label for="phone">Номер телефону *</label>
            <input class="input" type="tel" name="phone" placeholder="+38(___) ___-__-__" @input='e => formData.phone = e.target.value' />

            <label for="email">Електронна пошта *</label>
            <input class="input" type="email" name="email" placeholder="Введіть вашу електронну пошту" @input='e => formData.email = e.target.value' />

            <label for="social">Посилання на соціальні мережі</label>
            <input class="input" type="text" name="social" placeholder="Введіть посилання" @input='e => formData.social = e.target.value' />

            <label for="city">Населенний пункт в якому ви плануєту відкрити точку видачі Ладної Хати*</label>
            <input class="input" type="text" name="city" placeholder="Введіть населенний пункт" @input='e => formData.city = e.target.value' />

            <label for="name">Ви готові інвестувати від 600 тис. грн у відкриття точки видачі Ладної Хати?</label>
            <select name="name" class='input' @input='e => formData.is_ready_invest = e.target.value' >
              <option class="gray" selected disabled hidden value="">Оберіть відповідь</option>
              <option
                v-for='answer in yesNoAnswer'
                :key='answer.id'
                :value='answer.name'
              >
                {{ answer.name }}
              </option>
            </select>

            <label for="exp">Розкажіть про свій управлінський досвід*</label>
            <textarea class="input" type="text" name="exp" rows="10" @input='e => formData.experience = e.target.value' />

            <label for="reason">Чому ви хочете відкрити саме точку видачі Ладної Хати?*</label>
            <textarea class="input" type="text" name="reason" rows="10" @input='e => formData.reason = e.target.value' />

          </div>
          <div class="divider"></div>
          <div class="form-column">

            <label for="self">Ви плануєте керувати точкою видачі самостійно?</label>
            <select name="self" class='input' @input='e => formData.self = e.target.value'>
              <option class="gray" selected disabled hidden value="">Оберіть відповідь</option>
              <option
                v-for='answer in yesNoAnswer'
                :key='answer.id'
                :value='answer.name'
              >
                {{ answer.name }}
              </option>
            </select>


            <label for="name">Чи є у вас належне приміщення?</label>
            <select name="name" class='input' @input='e => formData.is_got_place = e.target.value' >
              <option class="gray" selected disabled hidden value="">Оберіть відповідь</option>
              <option
                v-for='answer in yesNoAnswer'
                :key='answer.id'
                :value='answer.name'
              >
                {{ answer.name }}
              </option>
            </select>

            <label for="social">Посилання на Google Карти із зазначенням точної геолокації вашого приміщення</label>
            <input class="input" type="text" name="social" @input='e => formData.coordinates = e.target.value' />

            <label for="city">Посилання на YouTube з відео-екскурсією по вашому приміщенню*</label>
            <input class="input" type="text" name="city" placeholder="http://youtube.com/...." @input='e => formData.videotour = e.target.value' />

            <label
              class="mb-5"
              for="files">Завантаження документів*
            </label>
            <app-dropdown
              name="files"
              :max-width="'initial'"
              :margin-top="'7'"
              :border-color="'#078071'"
              placeholder='Перетягніть файл сюди чи натисніть на кнопку. Додавайте зображення у форматі .jpg, .gif, .png, розміром файлу до 5 МБ'
              @input='val => images = val' />
            <p class="h-3">Поля позначені * обов’язкові для заповнення</p>
            <div class="button-wrap">
              <app-button v-bind="requiredFilled()?{bgColor:'#078071', text:'Надіслати' }:{bgColor:'#6A6C7E',text:'Заповніть форму'}" @click="PostForm" ></app-button>
            </div>

          </div>
        </div>
      </app-card>
    </div>
  </div>


</template>

<script>
import {mapMutations} from "vuex";
import AppGridCard from "@/components/ui/franchise/AppGridCard";
import AppCard from "@/components/ui/AppCard";
import GreenCard from "@/components/ui/GreenCard";
import AppButton from "@/components/ui/AppButton";
import AppDropdown from "@/components/panel/AppDropdown";


export default {
  name: "Franchise",
  components: {AppDropdown, AppButton, GreenCard, AppCard, AppGridCard},
  data(){
    return {
      formData: {
        person_name:'',
        phone:'',
        social:'',
        email:'',
        city:'',
        is_ready_invest:'',
        experience:'',
        reason:'',
        self:'',
        is_got_place:'',
        coordinates:'',
        videotour:'',
      },
      images:[],
      yesNoAnswer:[{id:1,name:'Так'},{id:2,name:'Ні'}]
    }

  },

  beforeMount() {
    // const header = this.$i18n.t('franchising')
    // this.setHeaderLocate([{id:0, name:header}]);
    this.setHeaderLocate(null);
  },
  methods: {
    ...mapMutations({
      setHeaderLocate: 'setHeaderLocate',
    }),
    requiredFilled(){
      return this.formData.person_name !== '' &&
              this.formData.phone !== '' &&
                this.formData.email !== '' &&
                  this.formData.experience !== '' &&
                    this.formData.city !== '' &&
                    this.formData.reason !== '' &&
                      this.formData.videotour !== '' &&
                        this.images.length > 0
    },
    async PostForm(){
      if (this.requiredFilled())
         console.log("filled")

      try{

        const form = new FormData();

        form.append('formData',JSON.stringify(this.formData));
        this.images.forEach(i=> form.append('images',i))

        await this.$axios.$post('/Reference/franchise',form)


      }catch (e){

        if (e.errors) {
          Object.keys(e.errors).forEach(key => {
            // console.log(e.errors[key]);
            this.$toast.error(e.errors[key]);
          });
        } else this.$toast.error(e);
      }


    }
  },

}
</script>

<style scoped lang="scss">

select:invalid { color: gray; }

.franchise-form{
  margin: 65px 0;
}

.h-3 {
  color: #7C7B89;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: 16.8px;
  margin-top: 60px;
}

.button-wrap {
  display: flex;
  align-items: flex-end;
  margin-top: 60px;
  height: 100%;
  justify-content: end;
  padding: 10px 0;
}

.dropdown-container {
  margin: 5px 0;
  max-width: initial;
  width: auto;
}

.form {
  margin: 35px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}

.divider {
  width: 5%;
}

.form-column {
  width: 45%;
  margin: 0 11px 0 11px;
  display: flex;
  flex-direction: column;
}

.input {
  border: 2px solid $lh-accent-green;
  border-radius: 7px;
  margin: 10px 0;
  padding: 10px 33px;
  resize: none;
  width: -webkit-fill-available;
}


.topchart {
  margin-top: -20px;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  width: 100%;
  justify-content: space-evenly;
  background: #078071 ;
}

.intro {
  flex-basis: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.img {
  display: flex;
  flex-basis: 100%;
  overflow: clip;
  justify-content: flex-end;

}

.intro-text{
  color: $lh-dark;
  width: 544px;
  display: flex;
  flex-direction: column;
  margin: auto;

  h3 {
    color: $lh-dark;
    font-size: 35px;
    font-style: normal;
    font-weight: 700;
    line-height: normal;
  }

  .hint {
    color: $lh-white;
    font-size: 20px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .remark{
    color: $lh-white;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;

  }

  *{
    margin: 12px 0;
   }
}

h3 {
  color: $lh-dark;
  font-size: 35px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
}


.full-width {
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}


.overlap {
  height: 2127px;
  position: relative;
  width: 1315px;

  .overlap-2 {
    height: 2127px;
    left: 0;
    position: absolute;
    top: 0;
    width: 1315px;


    .vector {
      height: 212px;
      left: 52px;
      position: absolute;
      top: 1526px;
      width: 796px;
    }

    .vector-2 {
      height: 199px;
      left: 442px;
      position: absolute;
      top: 1113px;
      width: 733px;
    }

    .vector-3 {
      height: 224px;
      left: 77px;
      position: absolute;
      top: 647px;
      width: 771px;
    }

    .vector-4 {
      height: 185px;
      left: 482px;
      position: absolute;
      top: 247px;
      width: 687px;
    }

    .element-3 {
      height: 400px;
      left: 0;
      object-fit: cover;
      position: absolute;
      top: 1727px;
      width: 468px;
    }

    .element-4 {
      height: 400px;
      left: 847px;
      object-fit: cover;
      position: absolute;
      top: 1310px;
      width: 468px;
    }

    .element-5 {
      height: 400px;
      left: 0;
      object-fit: cover;
      position: absolute;
      top: 870px;
      width: 468px;
    }

    .element-6 {
      height: 400px;
      left: 847px;
      object-fit: cover;
      position: absolute;
      top: 430px;
      width: 468px;
    }

    .element-7 {
      height: 400px;
      left: 0;
      position: absolute;
      top: 0;
      width: 468px;
    }

    .overlap-wrapper {
      height: 80px;
      left: 424px;
      position: absolute;
      top: 350px;
      width: 82px;
    }

    .element-8 {
      height: 80px;
      left: 1051px;
      position: absolute;
      top: 390px;
      width: 82px;
    }

    .element-9 {
      height: 80px;
      left: 97px;
      position: absolute;
      top: 830px;
      width: 82px;
    }

    .element-10 {
      height: 80px;
      left: 1135px;
      position: absolute;
      top: 1271px;
      width: 82px;
    }

    .element-11 {
      height: 80px;
      left: 114px;
      position: absolute;
      top: 1689px;
      width: 82px;
    }

  }

  .p {
    color: #222525;
    font-family: "Inter", Helvetica,serif;
    font-size: 24px;
    font-weight: 400;
    left: 529px;
    letter-spacing: 0;
    line-height: normal;
    position: absolute;
    top: 1903px;
    width: 529px;
  }

  .text-wrapper-6 {
    color: #222525;
    font-family: "Inter", Helvetica,serif;
    font-size: 24px;
    font-weight: 400;
    height: 58px;
    left: 287px;
    letter-spacing: 0;
    line-height: normal;
    position: absolute;
    text-align: right;
    top: 1467px;
    width: 500px;
  }

  .text-wrapper-7 {
    color: #222525;
    font-size: 24px;
    font-weight: 400;
    left: 529px;
    letter-spacing: 0;
    line-height: normal;
    position: absolute;
    top: 1023px;
    width: 500px;
  }

  .text-wrapper-8 {
    color: #222525;
    font-size: 24px;
    font-weight: 400;
    left: 137px;
    letter-spacing: 0;
    line-height: normal;
    position: absolute;
    text-align: right;
    top: 617px;
    white-space: nowrap;
    width: 650px;
  }

  .text-wrapper-9 {
    color: #222525;
    font-size: 25px;
    font-weight: 400;
    height: 24px;
    left: 529px;
    letter-spacing: 0;
    line-height: normal;
    position: absolute;
    top: 171px;
    white-space: nowrap;
    width: 562px;
  }

}

.overlap-3 {
  background-color: #f45d48;
  border-radius: 40px;
  height: 80px;
  position: relative;
  width: 80px;
}

.text-wrapper-2 {
  color: #fffffe;
  font-size: 36px;
  font-weight: 700;
  left: 32px;
  letter-spacing: 0;
  line-height: normal;
  position: absolute;
  top: 22px;
  white-space: nowrap;
}

.text-wrapper-3 {
  color: #fffffe;
  font-size: 36px;
  font-weight: 700;
  left: 29px;
  letter-spacing: 0;
  line-height: normal;
  position: absolute;
  top: 22px;
  white-space: nowrap;
}

.text-wrapper-4 {
  color: #fffffe;
  font-size: 36px;
  font-weight: 700;
  left: 30px;
  letter-spacing: 0;
  line-height: normal;
  position: absolute;
  top: 23px;
  white-space: nowrap;
}

.text-wrapper-5 {
  color: #fffffe;
  font-size: 36px;
  font-weight: 700;
  left: 27px;
  letter-spacing: 0;
  line-height: normal;
  position: absolute;
  top: 23px;
  white-space: nowrap;
}

.text-wrapper-59 {
  color: #222525;
  font-size: 35px;
  font-weight: 700;
  letter-spacing: 0;
  line-height: normal;
  white-space: nowrap;
  text-align: center;
  margin: 35px 0;
}

.overlap-9 {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin-top: 60px;
  background-color: #eeebe7;
  position: relative;
  width: 1921px;
}

.div-9 {
  background-color: #222525;
  border-radius: 50px;
  height: 100px;
  left: 0;
  position: absolute;
  top: 0;
  width: 100px;
}

.vages-cards {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  max-width: 1455px;
  margin-bottom: 30px;
}

.text-wages {
  color: $lh-dark;
  font-size: 20px;
  font-weight: 700;
  height: 19px;
}

.h-1 {
  color: $lh-accent-green;
  font-size: 36px;
  font-weight: 700;
  height: 35px;
  margin-top: 30px;
}

.terms {
  margin-top: 54px ;
}

.term-cards{
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

.h-2 {
  color: $lh-dark;
  font-size: 35px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
  margin: 16px 0;
}

.terms p {
  color: #7C7B89;
}

</style>
